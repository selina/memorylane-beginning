<!DOCTYPE html>
<html>
<head>
  <style type="text/css">
  html, body, #map-canvas { height: 100%; margin: 0; padding: 0;}
  </style>
  <script type="text/javascript"
  src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCj_bAQA7Rmxebtgaq08ykLXl1cxA03o0c">
  </script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
</head>
<body >
 <div onLoad="initialize()"   id="map-canvas" style="width: 1000px; height: 480px;"></div>
 <div>


  <script type="text/javascript">

  var geocoder;
  var map;
  // var userLongitude = $("#longitude").val()
  // var userLatitude = $("#latitude").val()
  console.log(parseFloat({{ longitude }}), parseFloat({{ latitude }}));
  var latlng = new google.maps.LatLng(
    parseFloat({{ latitude }}), parseFloat({{ longitude }})
    // 40.705288, -74.013904
    );

  function initialize() {
    geocoder = new google.maps.Geocoder();
    var mapOptions = {
      zoom: 13,
      center: latlng
    }
    map = new google.maps.Map(document.getElementById("map-canvas"), mapOptions);
      var marker = new google.maps.Marker({position: latlng, map: map});
}
 google.maps.event.addDomListener(window, 'load', initialize);
//first: 40.705288 ,second:-74.013904
function codeAddress() {
  var address = document.getElementById("address").value;
  geocoder.geocode( { 'address': address}, function(results, status) {
    if (status == google.maps.GeocoderStatus.OK) {
      map.setCenterw(results[0].geometry.location);

    } else {1
      alert("Geocode was not successful for the following reason: " + status);
    }
  });
}



</script>
</body>
</html>
